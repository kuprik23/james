<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CyberCAT - Multi-Agent Security Command Center</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;500&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loader">
            <div class="cat-loader">
                <pre class="ascii-cat">
    /\_____/\
   /  o   o  \
  ( ==  ^  == )
   )         (
  (           )
 ( (  )   (  ) )
(__(__)___(__)__)
                </pre>
            </div>
            <div class="loader-ring"></div>
            <div class="loader-text">CYBERCAT</div>
            <div class="loader-subtitle">Initializing Multi-Agent Security System...</div>
            <div class="loader-progress">
                <div class="loader-progress-bar"></div>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div id="app">
        <!-- Matrix Rain Background -->
        <canvas id="matrix-canvas"></canvas>

        <!-- Top Header -->
        <header id="header">
            <div class="logo">
                <div class="cat-icon">üê±</div>
                <span class="logo-text">CYBER<span class="highlight">CAT</span></span>
                <span class="logo-version">v2.0</span>
            </div>
            <div class="header-center">
                <div class="workspace-tabs">
                    <button class="tab-btn active" data-tab="command">üéÆ Command</button>
                    <button class="tab-btn" data-tab="agents">ü§ñ Agents</button>
                    <button class="tab-btn" data-tab="security">üîê Security</button>
                    <button class="tab-btn" data-tab="network">üåê Network</button>
                    <button class="tab-btn" data-tab="logs">üìú Logs</button>
                </div>
            </div>
            <div class="header-right">
                <button class="icon-btn" id="settings-btn" title="Settings">‚öôÔ∏è</button>
                <div class="system-stats">
                    <div class="stat-item">
                        <span class="stat-label">CPU</span>
                        <span class="stat-value" id="cpu-stat">45%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">MEM</span>
                        <span class="stat-value" id="mem-stat">62%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">NET</span>
                        <span class="stat-value" id="net-stat">125Mb</span>
                    </div>
                </div>
                <div class="status-indicator">
                    <span class="status-dot online"></span>
                    <span class="status-text">SECURE</span>
                </div>
            </div>
        </header>

        <!-- Main Workspace Grid -->
        <div id="workspace-container">
            <!-- Left Panel - Agent Control -->
            <div id="left-panel" class="workspace-panel">
                <div class="panel-title">
                    <span class="panel-icon">ü§ñ</span>
                    MULTI-AGENT SYSTEM
                </div>
                
                <!-- LangGraph Agent Status -->
                <div class="agent-grid">
                    <div class="agent-card active" data-agent="scanner">
                        <div class="agent-avatar">üîç</div>
                        <div class="agent-info">
                            <span class="agent-name">Scanner</span>
                            <span class="agent-status running">Running</span>
                        </div>
                        <div class="agent-pulse"></div>
                    </div>
                    
                    <div class="agent-card" data-agent="analyzer">
                        <div class="agent-avatar">üìä</div>
                        <div class="agent-info">
                            <span class="agent-name">Analyzer</span>
                            <span class="agent-status idle">Idle</span>
                        </div>
                    </div>
                    
                    <div class="agent-card active" data-agent="defender">
                        <div class="agent-avatar">üõ°Ô∏è</div>
                        <div class="agent-info">
                            <span class="agent-name">Defender</span>
                            <span class="agent-status running">Active</span>
                        </div>
                        <div class="agent-pulse"></div>
                    </div>
                    
                    <div class="agent-card" data-agent="reporter">
                        <div class="agent-avatar">üìù</div>
                        <div class="agent-info">
                            <span class="agent-name">Reporter</span>
                            <span class="agent-status idle">Standby</span>
                        </div>
                    </div>
                    
                    <div class="agent-card" data-agent="hunter">
                        <div class="agent-avatar">üéØ</div>
                        <div class="agent-info">
                            <span class="agent-name">Threat Hunter</span>
                            <span class="agent-status idle">Ready</span>
                        </div>
                    </div>
                    
                    <div class="agent-card" data-agent="orchestrator">
                        <div class="agent-avatar">üé≠</div>
                        <div class="agent-info">
                            <span class="agent-name">Orchestrator</span>
                            <span class="agent-status running">Coordinating</span>
                        </div>
                        <div class="agent-pulse"></div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions-panel">
                    <div class="panel-subtitle">Quick Actions</div>
                    <div class="action-buttons">
                        <button class="action-btn-small" data-action="deploy-all">
                            <span>üöÄ</span> Deploy All
                        </button>
                        <button class="action-btn-small" data-action="stop-all">
                            <span>‚èπÔ∏è</span> Stop All
                        </button>
                        <button class="action-btn-small" data-action="sync-agents">
                            <span>üîÑ</span> Sync
                        </button>
                    </div>
                </div>

                <!-- Agent Workflow -->
                <div class="workflow-panel">
                    <div class="panel-subtitle">LangGraph Workflow</div>
                    <div class="workflow-diagram">
                        <div class="workflow-node start">START</div>
                        <div class="workflow-arrow">‚Üí</div>
                        <div class="workflow-node">Scanner</div>
                        <div class="workflow-arrow">‚Üí</div>
                        <div class="workflow-node">Analyzer</div>
                        <div class="workflow-arrow">‚Üí</div>
                        <div class="workflow-node">Defender</div>
                        <div class="workflow-arrow">‚Üí</div>
                        <div class="workflow-node end">REPORT</div>
                    </div>
                </div>
            </div>

            <!-- Center Panel - CyberCAT Interface -->
            <div id="center-panel" class="workspace-panel">
                <!-- CyberCAT Logo Display -->
                <div id="cybercat-display">
                    <div class="cat-container">
                        <pre class="cybercat-ascii" id="main-cat">
        ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
        ‚ïë           /\_____/\                      ‚ïë
        ‚ïë          /  o   o  \    CYBERCAT v2.0   ‚ïë
        ‚ïë         ( ==  ^  == )   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ‚ïë
        ‚ïë          )  ‚îå‚îÄ‚îÄ‚îÄ‚îê  (    Security Status ‚ïë
        ‚ïë         (   ‚îÇ ‚ñì ‚îÇ   )   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100% ‚ïë
        ‚ïë        ( (  ‚îî‚îÄ‚îÄ‚îÄ‚îò  ) )  PROTECTED       ‚ïë
        ‚ïë       (__(__)___(__)__)                 ‚ïë
        ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
                        </pre>
                        <div class="cat-eyes">
                            <div class="eye left" id="left-eye"></div>
                            <div class="eye right" id="right-eye"></div>
                        </div>
                    </div>
                    
                    <!-- Security Gauge -->
                    <div class="security-gauge">
                        <svg viewBox="0 0 200 100" class="gauge-svg">
                            <defs>
                                <linearGradient id="gaugeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" style="stop-color:#ff4444"/>
                                    <stop offset="50%" style="stop-color:#ffaa00"/>
                                    <stop offset="100%" style="stop-color:#00ff88"/>
                                </linearGradient>
                            </defs>
                            <path d="M 20 90 A 80 80 0 0 1 180 90" fill="none" stroke="#1a1a2e" stroke-width="15"/>
                            <path d="M 20 90 A 80 80 0 0 1 180 90" fill="none" stroke="url(#gaugeGradient)" stroke-width="15" 
                                  stroke-dasharray="251" stroke-dashoffset="25" id="gauge-fill"/>
                            <text x="100" y="75" text-anchor="middle" class="gauge-text" id="gauge-value">90%</text>
                            <text x="100" y="95" text-anchor="middle" class="gauge-label">SECURITY LEVEL</text>
                        </svg>
                    </div>
                </div>

                <!-- EQ Visualizer -->
                <div id="eq-visualizer">
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                </div>

                <!-- Command Terminal -->
                <div id="terminal-container">
                    <div class="terminal-header">
                        <div class="terminal-buttons">
                            <span class="term-btn red"></span>
                            <span class="term-btn yellow"></span>
                            <span class="term-btn green"></span>
                        </div>
                        <span class="terminal-title">CyberCAT Terminal</span>
                        <div class="terminal-controls">
                            <button class="term-ctrl" id="clear-terminal">Clear</button>
                            <button class="term-ctrl" id="export-log">Export</button>
                        </div>
                    </div>
                    <div id="terminal-output">
                        <div class="terminal-line system">
                            <span class="timestamp">[12:00:00]</span>
                            <span class="prefix">CYBERCAT></span>
                            <span class="message">System initialized. All agents online.</span>
                        </div>
                        <div class="terminal-line success">
                            <span class="timestamp">[12:00:01]</span>
                            <span class="prefix">SCANNER></span>
                            <span class="message">Network scan complete. No threats detected.</span>
                        </div>
                        <div class="terminal-line info">
                            <span class="timestamp">[12:00:02]</span>
                            <span class="prefix">DEFENDER></span>
                            <span class="message">Firewall rules updated. 47 rules active.</span>
                        </div>
                    </div>
                    <div class="terminal-input-container">
                        <span class="input-prefix">cybercat@security:~$</span>
                        <input type="text" id="terminal-input" placeholder="Enter command..." autocomplete="off">
                        <button id="send-command" class="send-btn">‚ñ∂</button>
                    </div>
                </div>

                <!-- Scan Progress -->
                <div id="scan-progress" class="hidden">
                    <div class="progress-header">
                        <span class="progress-title">üîç Scanning in Progress</span>
                        <span class="progress-percent" id="progress-percent">0%</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="progress-bar"></div>
                        <div class="progress-glow"></div>
                    </div>
                    <div class="progress-details">
                        <span id="scan-phase">Initializing...</span>
                        <span id="scan-target">-</span>
                    </div>
                </div>
            </div>

            <!-- Right Panel - Results & Monitoring -->
            <div id="right-panel" class="workspace-panel">
                <div class="panel-title">
                    <span class="panel-icon">üìä</span>
                    MONITORING & RESULTS
                </div>

                <!-- Live Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üîí</div>
                        <div class="stat-content">
                            <span class="stat-number" id="threats-blocked">1,247</span>
                            <span class="stat-label">Threats Blocked</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üåê</div>
                        <div class="stat-content">
                            <span class="stat-number" id="scans-completed">89</span>
                            <span class="stat-label">Scans Today</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚ö°</div>
                        <div class="stat-content">
                            <span class="stat-number" id="response-time">12ms</span>
                            <span class="stat-label">Response Time</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üõ°Ô∏è</div>
                        <div class="stat-content">
                            <span class="stat-number" id="uptime">99.9%</span>
                            <span class="stat-label">Uptime</span>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="activity-panel">
                    <div class="panel-subtitle">Recent Activity</div>
                    <div class="activity-list" id="activity-list">
                        <div class="activity-item success">
                            <span class="activity-icon">‚úÖ</span>
                            <div class="activity-content">
                                <span class="activity-text">Port scan completed</span>
                                <span class="activity-time">2 min ago</span>
                            </div>
                        </div>
                        <div class="activity-item warning">
                            <span class="activity-icon">‚ö†Ô∏è</span>
                            <div class="activity-content">
                                <span class="activity-text">Suspicious connection blocked</span>
                                <span class="activity-time">5 min ago</span>
                            </div>
                        </div>
                        <div class="activity-item info">
                            <span class="activity-icon">‚ÑπÔ∏è</span>
                            <div class="activity-content">
                                <span class="activity-text">SSL certificate verified</span>
                                <span class="activity-time">10 min ago</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Scan Results -->
                <div class="results-panel">
                    <div class="panel-subtitle">Last Scan Results</div>
                    <div class="results-content" id="scan-results">
                        <div class="result-item">
                            <span class="result-label">Open Ports:</span>
                            <span class="result-value">22, 80, 443</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Vulnerabilities:</span>
                            <span class="result-value safe">0 Critical</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">SSL Grade:</span>
                            <span class="result-value grade-a">A+</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Scan Duration:</span>
                            <span class="result-value">2.3s</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Memory Used:</span>
                            <span class="result-value">128MB</span>
                        </div>
                    </div>
                </div>

                <!-- Connected Systems -->
                <div class="systems-panel">
                    <div class="panel-subtitle">Connected Systems</div>
                    <div class="systems-list">
                        <div class="system-item online">
                            <span class="system-icon">‚òÅÔ∏è</span>
                            <span class="system-name">DigitalOcean</span>
                            <span class="system-status">‚óè Online</span>
                        </div>
                        <div class="system-item online">
                            <span class="system-icon">ü§ñ</span>
                            <span class="system-name">LangGraph</span>
                            <span class="system-status">‚óè Active</span>
                        </div>
                        <div class="system-item online">
                            <span class="system-icon">üíæ</span>
                            <span class="system-name">Memory Store</span>
                            <span class="system-status">‚óè Ready</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Control Bar -->
        <div id="control-bar">
            <div class="control-section">
                <button class="control-btn primary" id="btn-full-scan">
                    <span class="btn-icon">üîç</span>
                    <span class="btn-text">Full Scan</span>
                </button>
                <button class="control-btn" id="btn-quick-scan">
                    <span class="btn-icon">‚ö°</span>
                    <span class="btn-text">Quick Scan</span>
                </button>
                <button class="control-btn" id="btn-port-scan">
                    <span class="btn-icon">üîå</span>
                    <span class="btn-text">Port Scan</span>
                </button>
                <button class="control-btn" id="btn-vuln-scan">
                    <span class="btn-icon">üõ°Ô∏è</span>
                    <span class="btn-text">Vuln Scan</span>
                </button>
            </div>
            <div class="control-section">
                <button class="control-btn danger" id="btn-threat-hunt">
                    <span class="btn-icon">üéØ</span>
                    <span class="btn-text">Threat Hunt</span>
                </button>
                <button class="control-btn warning" id="btn-firewall">
                    <span class="btn-icon">üî•</span>
                    <span class="btn-text">Firewall</span>
                </button>
                <button class="control-btn success" id="btn-report">
                    <span class="btn-icon">üìä</span>
                    <span class="btn-text">Report</span>
                </button>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div id="toast-container"></div>

        <!-- Settings Modal -->
        <div id="settings-modal" class="modal hidden">
            <div class="modal-content large">
                <div class="modal-header">
                    <h2>‚öôÔ∏è Settings & Configuration</h2>
                    <button class="modal-close" id="close-settings">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="settings-tabs">
                        <button class="settings-tab active" data-settings-tab="api">üîë API Keys</button>
                        <button class="settings-tab" data-settings-tab="standalone">üîß Standalone Tools</button>
                        <button class="settings-tab" data-settings-tab="system">üíª System</button>
                    </div>
                    
                    <!-- API Keys Tab -->
                    <div class="settings-panel active" id="api-settings">
                        <h3>API Key Configuration</h3>
                        <p class="settings-desc">Configure API keys for LangGraph Agent and cloud services</p>
                        
                        <div class="form-group">
                            <label for="openai-key">OpenAI API Key</label>
                            <div class="input-group">
                                <input type="password" id="openai-key" placeholder="sk-..." autocomplete="off">
                                <button class="toggle-visibility" data-input="openai-key">üëÅÔ∏è</button>
                            </div>
                            <small>Get your key at: <a href="https://platform.openai.com/api-keys" target="_blank">platform.openai.com</a></small>
                        </div>
                        
                        <div class="form-group">
                            <label for="anthropic-key">Anthropic API Key (Alternative)</label>
                            <div class="input-group">
                                <input type="password" id="anthropic-key" placeholder="sk-ant-..." autocomplete="off">
                                <button class="toggle-visibility" data-input="anthropic-key">üëÅÔ∏è</button>
                            </div>
                            <small>Get your key at: <a href="https://console.anthropic.com/" target="_blank">console.anthropic.com</a></small>
                        </div>
                        
                        <div class="form-group">
                            <label for="digitalocean-token">Digital Ocean API Token</label>
                            <div class="input-group">
                                <input type="password" id="digitalocean-token" placeholder="dop_v1_..." autocomplete="off">
                                <button class="toggle-visibility" data-input="digitalocean-token">üëÅÔ∏è</button>
                            </div>
                            <small>Get your token at: <a href="https://cloud.digitalocean.com/account/api/tokens" target="_blank">cloud.digitalocean.com</a></small>
                        </div>
                        
                        <div class="settings-actions">
                            <button class="btn-primary" id="save-api-keys">üíæ Save API Keys</button>
                            <button class="btn-secondary" id="test-connection">üß™ Test Connection</button>
                        </div>
                        
                        <div id="api-status" class="status-message hidden"></div>
                    </div>
                    
                    <!-- Standalone Tools Tab -->
                    <div class="settings-panel" id="standalone-settings">
                        <h3>Standalone Tools</h3>
                        <p class="settings-desc">Run and manage standalone security tools</p>
                        
                        <div class="tool-card">
                            <div class="tool-header">
                                <h4>üîç CyberCat Standalone</h4>
                                <span class="tool-status online">Ready</span>
                            </div>
                            <p>AI-Powered Cybersecurity Analysis Tool</p>
                            <div class="tool-actions">
                                <button class="btn-small" data-tool="cybercat" data-cmd="status">Status</button>
                                <button class="btn-small" data-tool="cybercat" data-cmd="network">Network</button>
                                <button class="btn-small" data-tool="cybercat" data-cmd="scan">Full Scan</button>
                            </div>
                        </div>
                        
                        <div class="tool-card">
                            <div class="tool-header">
                                <h4>üõ°Ô∏è CyberCAT Scanner</h4>
                                <span class="tool-status online">Ready</span>
                            </div>
                            <p>Military-Grade Vulnerability Scanner</p>
                            <div class="tool-actions">
                                <button class="btn-small" data-tool="scanner" data-cmd="sweep">Sweep</button>
                                <button class="btn-small" data-tool="scanner" data-cmd="ports">Port Scan</button>
                                <button class="btn-small" data-tool="scanner" data-cmd="scan">Full Scan</button>
                            </div>
                        </div>
                        
                        <div class="tool-card">
                            <div class="tool-header">
                                <h4>ü§ñ LangGraph Agent</h4>
                                <span class="tool-status" id="langgraph-status">Checking...</span>
                            </div>
                            <p>AI-Powered Security Agent API</p>
                            <div class="tool-actions">
                                <button class="btn-small" data-tool="langgraph" data-cmd="health">Health</button>
                                <button class="btn-small" data-tool="langgraph" data-cmd="report">Report</button>
                                <button class="btn-small" data-tool="langgraph" data-cmd="docs">API Docs</button>
                            </div>
                        </div>
                        
                        <div id="tool-output" class="tool-output hidden"></div>
                    </div>
                    
                    <!-- System Tab -->
                    <div class="settings-panel" id="system-settings">
                        <h3>System Information</h3>
                        <div class="system-info" id="system-info">
                            <div class="info-item">
                                <span class="info-label">Platform:</span>
                                <span class="info-value" id="sys-platform">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Node.js:</span>
                                <span class="info-value" id="sys-node">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Python:</span>
                                <span class="info-value" id="sys-python">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Installation Path:</span>
                                <span class="info-value" id="sys-path">-</span>
                            </div>
                        </div>
                        <button class="btn-primary" id="refresh-system-info">üîÑ Refresh</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Expanded Log Viewer Modal -->
        <div id="log-viewer-modal" class="modal hidden">
            <div class="modal-content fullscreen">
                <div class="modal-header">
                    <h2>üìú Expanded Log Viewer</h2>
                    <div class="log-controls">
                        <input type="search" id="log-search" placeholder="Search logs..." class="search-input">
                        <select id="log-filter" class="log-filter">
                            <option value="all">All Levels</option>
                            <option value="error">Errors</option>
                            <option value="warning">Warnings</option>
                            <option value="success">Success</option>
                            <option value="info">Info</option>
                        </select>
                        <button class="btn-small" id="export-full-log">üì• Export</button>
                        <button class="btn-small" id="clear-full-log">üóëÔ∏è Clear</button>
                        <button class="modal-close" id="close-log-viewer">&times;</button>
                    </div>
                </div>
                <div class="modal-body no-padding">
                    <div id="expanded-log-output" class="expanded-log"></div>
                </div>
                <div class="modal-footer">
                    <div class="log-stats">
                        <span>Total: <strong id="log-count">0</strong></span>
                        <span>Errors: <strong id="log-errors">0</strong></span>
                        <span>Warnings: <strong id="log-warnings">0</strong></span>
                    </div>
                    <button class="btn-secondary" id="auto-scroll-toggle">üìú Auto-scroll: ON</button>
                </div>
            </div>
        </div>

        <!-- Modal Container -->
        <div id="modal-container"></div>
    </div>

    <script type="module" src="js/app.js"></script>
</body>
</html>